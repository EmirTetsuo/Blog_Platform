{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\neo\\\\Desktop\\\\veb\\\\23.02.23\\\\js projects\\\\blog-platform\\\\frontend\\\\src\\\\pages\\\\LoginPage.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { checkIsAuth, loginUser } from '../redux/features/auth/authSlice';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const LoginPage = () => {\n  _s();\n\n  const [identifier, setIdentifier] = useState('');\n  const [password, setPassword] = useState('');\n  const {\n    status\n  } = useSelector(state => state.auth);\n  const isAuth = useSelector(checkIsAuth);\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (status) toast(status);\n    if (isAuth) navigate('/');\n  }, [status, isAuth, navigate]);\n\n  const handleSubmit = () => {\n    console.log(\"Submitting login with:\", {\n      identifier,\n      password\n    });\n\n    if (!identifier || !password) {\n      toast('Please fill in both fields.');\n      return;\n    }\n\n    dispatch(loginUser({\n      identifier,\n      password\n    })).then(result => {\n      if (result.payload && result.payload.token) {\n        toast('Login successful!');\n        navigate('/');\n      }\n    }).catch(error => {\n      console.log(error);\n      toast('Login failed. Please try again.');\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex justify-center items-center min-h-screen\",\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: e => e.preventDefault(),\n      className: \"bg-white p-8 rounded-lg shadow-lg w-full max-w-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-2xl font-semibold text-center text-gray-800 mb-6\",\n        children: \"\\u0410\\u0432\\u0442\\u043E\\u0440\\u0438\\u0437\\u0430\\u0446\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-xs text-gray-600 mb-2\",\n        htmlFor: \"identifier\",\n        children: \"Email \\u0438\\u043B\\u0438 Username\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"identifier\",\n        type: \"text\",\n        value: identifier,\n        onChange: e => setIdentifier(e.target.value),\n        placeholder: \"Email \\u0438\\u043B\\u0438 Username\",\n        className: \"w-full p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-4 text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"block text-xs text-gray-600 mb-2\",\n        htmlFor: \"password\",\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"password\",\n        type: \"password\",\n        value: password,\n        onChange: e => setPassword(e.target.value),\n        placeholder: \"Password\",\n        className: \"w-full p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-6 text-sm\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          onClick: handleSubmit,\n          className: \"w-full py-2 bg-indigo-600 text-white rounded-md text-sm font-semibold hover:bg-indigo-700 transition\",\n          children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          className: \"text-xs ml-1 text-indigo-600 hover:underline\",\n          children: \"\\u041D\\u0435\\u0442 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\\u0430?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 41,\n    columnNumber: 9\n  }, this);\n};\n\n_s(LoginPage, \"+fd5o+Qa9ijx+eZcr0OPs6IqD3Y=\", false, function () {\n  return [useSelector, useSelector, useDispatch, useNavigate];\n});\n\n_c = LoginPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","useDispatch","useSelector","checkIsAuth","loginUser","toast","LoginPage","identifier","setIdentifier","password","setPassword","status","state","auth","isAuth","dispatch","navigate","handleSubmit","console","log","then","result","payload","token","catch","error","e","preventDefault","target","value"],"sources":["C:/Users/neo/Desktop/veb/23.02.23/js projects/blog-platform/frontend/src/pages/LoginPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { checkIsAuth, loginUser } from '../redux/features/auth/authSlice';\nimport { toast } from 'react-toastify';\n\nexport const LoginPage = () => {\n    const [identifier, setIdentifier] = useState('');\n    const [password, setPassword] = useState('');\n\n    const { status } = useSelector((state) => state.auth);\n    const isAuth = useSelector(checkIsAuth);\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n\n    useEffect(() => {\n        if (status) toast(status);\n        if (isAuth) navigate('/');\n    }, [status, isAuth, navigate]);\n\n    const handleSubmit = () => {\n        console.log(\"Submitting login with:\", { identifier, password });\n        if (!identifier || !password) {\n            toast('Please fill in both fields.');\n            return;\n        }\n        dispatch(loginUser({ identifier, password })).then((result) => {\n            if (result.payload && result.payload.token) {\n                toast('Login successful!');\n                navigate('/');\n            }\n        }).catch((error) => {\n            console.log(error);\n            toast('Login failed. Please try again.');\n        });\n    };\n    \n    \n\n    return (\n        <div className=\"flex justify-center items-center min-h-screen\">\n            <form\n                onSubmit={(e) => e.preventDefault()}\n                className=\"bg-white p-8 rounded-lg shadow-lg w-full max-w-sm\"\n            >\n                <h1 className=\"text-2xl font-semibold text-center text-gray-800 mb-6\">Авторизация</h1>\n\n                <label className=\"block text-xs text-gray-600 mb-2\" htmlFor=\"identifier\">\n                    Email или Username\n                </label>\n                <input\n                    id=\"identifier\"\n                    type=\"text\"\n                    value={identifier}\n                    onChange={(e) => setIdentifier(e.target.value)}\n                    placeholder=\"Email или Username\"\n                    className=\"w-full p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-4 text-sm\"\n                />\n\n                <label className=\"block text-xs text-gray-600 mb-2\" htmlFor=\"password\">\n                    Password\n                </label>\n                <input\n                    id=\"password\"\n                    type=\"password\"\n                    value={password}\n                    onChange={(e) => setPassword(e.target.value)}\n                    placeholder=\"Password\"\n                    className=\"w-full p-3 rounded-md border border-gray-300 focus:outline-none focus:ring-2 focus:ring-indigo-500 mb-6 text-sm\"\n                />\n\n                <div className=\"flex justify-between items-center\">\n                    <button\n                        type=\"submit\"\n                        onClick={handleSubmit}\n                        className=\"w-full py-2 bg-indigo-600 text-white rounded-md text-sm font-semibold hover:bg-indigo-700 transition\"\n                    >\n                        Войти\n                    </button>\n                    <Link\n                        to=\"/register\"\n                        className=\"text-xs ml-1 text-indigo-600 hover:underline\"\n                    >\n                        Нет аккаунта?\n                    </Link>\n                </div>\n            </form>\n        </div>\n    );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}