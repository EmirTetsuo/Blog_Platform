{"ast":null,"code":"import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from '../../../utils/axios';\nconst initialState = {\n  user: null,\n  token: null,\n  isLoading: false,\n  status: null,\n  users: [],\n  favorites: []\n};\nexport const getAllUsers = createAsyncThunk('auth/getAllUsers', async () => {\n  try {\n    const {\n      data\n    } = await axios.get('/auth');\n    return data;\n  } catch (error) {\n    console.error(error);\n  }\n});\nexport const registerUser = createAsyncThunk('auth/registerUser', async _ref => {\n  let {\n    username,\n    email,\n    password\n  } = _ref;\n\n  try {\n    const {\n      data\n    } = await axios.post('/auth/register', {\n      username,\n      email,\n      password\n    });\n\n    if (data.token) {\n      window.localStorage.setItem('token', data.token);\n    }\n\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const loginUser = createAsyncThunk('auth/loginUser', async _ref2 => {\n  let {\n    identifier,\n    password\n  } = _ref2;\n\n  try {\n    const {\n      data\n    } = await axios.post('/auth/login', {\n      identifier,\n      password\n    });\n\n    if (data.token) {\n      window.localStorage.setItem('token', data.token);\n    }\n\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const removeUser = createAsyncThunk('auth/removeUser', async (userId, _ref3) => {\n  let {\n    rejectWithValue\n  } = _ref3;\n\n  try {\n    const {\n      data\n    } = await axios.delete(`/auth/users/${userId}`);\n    return data;\n  } catch (error) {\n    var _error$response, _error$response2;\n\n    console.error('Error while deleting user:', ((_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.data) || error.message);\n    return rejectWithValue(((_error$response2 = error.response) === null || _error$response2 === void 0 ? void 0 : _error$response2.data) || 'Ошибка сервера');\n  }\n});\nexport const getMe = createAsyncThunk('auth/getMe', async () => {\n  try {\n    const {\n      data\n    } = await axios.get('/auth/me');\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n});\nexport const toggleFavorite = createAsyncThunk('auth/toggleFavorite', async (_ref4, _ref5) => {\n  let {\n    postId,\n    userId\n  } = _ref4;\n  let {\n    rejectWithValue\n  } = _ref5;\n\n  try {\n    const response = await axios.put(`/api/auth/favorite/${postId}`, {\n      userId\n    });\n    return response.data; // Возвращаем обновленные избранные\n  } catch (error) {\n    return rejectWithValue(error.response.data);\n  }\n});\nexport const getFavorites = createAsyncThunk('auth/getFavorites', async () => {\n  try {\n    const {\n      data\n    } = await axios.get('/auth/favorites');\n    return data.favorites;\n  } catch (error) {\n    console.log(error);\n    return [];\n  }\n});\nexport const authSlice = createSlice({\n  name: 'auth',\n  initialState,\n  reducers: {\n    logout: state => {\n      state.user = null;\n      state.token = null;\n      state.isLoading = false;\n      state.status = null;\n    },\n    updateUser: (state, action) => {\n      state.user = action.payload;\n    }\n  },\n  extraReducers: {\n    // Get all users\n    [getAllUsers.pending]: state => {\n      state.loading = true;\n    },\n    [getAllUsers.fulfilled]: (state, action) => {\n      state.loading = false;\n      state.users = action.payload.users;\n    },\n    [getAllUsers.rejected]: state => {\n      state.loading = false;\n    },\n    // Register user\n    [registerUser.pending]: state => {\n      state.isLoading = true;\n      state.status = null;\n    },\n    [registerUser.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.status = action.payload.message;\n      state.user = action.payload.user;\n      state.token = action.payload.token;\n      state.users.push(action.payload);\n    },\n    [registerUser.rejected]: (state, action) => {\n      var _action$payload;\n\n      state.status = ((_action$payload = action.payload) === null || _action$payload === void 0 ? void 0 : _action$payload.message) || 'Registration failed';\n      state.isLoading = false;\n    },\n    // Login user\n    [loginUser.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.token = action.payload.token;\n      state.user = action.payload.user;\n      state.status = action.payload.message;\n    },\n    [loginUser.pending]: state => {\n      state.isLoading = true;\n      state.status = null;\n    },\n    [loginUser.rejected]: (state, action) => {\n      var _action$payload2;\n\n      state.status = ((_action$payload2 = action.payload) === null || _action$payload2 === void 0 ? void 0 : _action$payload2.message) || 'Login failed';\n      state.isLoading = false;\n    },\n    // Check authorization\n    [getMe.pending]: state => {\n      state.isLoading = true;\n      state.status = null;\n    },\n    [getMe.fulfilled]: (state, action) => {\n      var _action$payload3, _action$payload4;\n\n      state.isLoading = false;\n      state.status = null;\n      state.user = (_action$payload3 = action.payload) === null || _action$payload3 === void 0 ? void 0 : _action$payload3.user;\n      state.token = (_action$payload4 = action.payload) === null || _action$payload4 === void 0 ? void 0 : _action$payload4.token;\n    },\n    [getMe.rejected]: (state, action) => {\n      var _action$payload5;\n\n      state.status = ((_action$payload5 = action.payload) === null || _action$payload5 === void 0 ? void 0 : _action$payload5.message) || 'Authorization check failed';\n      state.isLoading = false;\n    },\n    // удаление пользователя\n    [removeUser.pending]: state => {\n      state.loading = true;\n    },\n    [removeUser.fulfilled]: (state, action) => {\n      state.loading = false;\n      state.users = state.users.filter(user => user._id !== action.payload._id);\n    },\n    [removeUser.rejected]: state => {\n      state.loading = false;\n    },\n    [toggleFavorite.fulfilled]: (state, action) => {\n      const {\n        favorites\n      } = action.payload;\n      state.user.favorites = favorites;\n      state.favorites = favorites;\n    },\n    [getFavorites.fulfilled]: (state, action) => {\n      state.isLoading = false;\n      state.favorites = action.payload;\n    }\n  }\n});\nexport const checkIsAuth = state => Boolean(state.auth.token);\nexport const {\n  updateUser\n} = authSlice.actions;\nexport const {\n  logout\n} = authSlice.actions;\nexport default authSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","axios","initialState","user","token","isLoading","status","users","favorites","getAllUsers","data","get","error","console","registerUser","username","email","password","post","window","localStorage","setItem","log","loginUser","identifier","removeUser","userId","rejectWithValue","delete","response","message","getMe","toggleFavorite","postId","put","getFavorites","authSlice","name","reducers","logout","state","updateUser","action","payload","extraReducers","pending","loading","fulfilled","rejected","push","filter","_id","checkIsAuth","Boolean","auth","actions","reducer"],"sources":["C:/Users/neo/Desktop/veb/23.02.23/js projects/blog-platform/frontend/src/redux/features/auth/authSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from '@reduxjs/toolkit';\nimport axios from '../../../utils/axios';\n\nconst initialState = {\n    user: null,\n    token: null,\n    isLoading: false,\n    status: null,\n    users: [], \n    favorites: [],\n};\n\n\nexport const getAllUsers = createAsyncThunk(\n    'auth/getAllUsers',\n    async () => {\n        try {\n            const { data } = await axios.get('/auth');\n            return data;\n        } catch (error) {\n            console.error(error);\n        }\n    }\n);\n\n\nexport const registerUser = createAsyncThunk(\n    'auth/registerUser',\n    async ({ username, email, password }) => {\n        try {\n            const { data } = await axios.post('/auth/register', {\n                username,\n                email, \n                password,\n            });\n            if (data.token) {\n                window.localStorage.setItem('token', data.token);\n            }\n            return data;\n        } catch (error) {\n            console.log(error);\n        }\n    },\n);\n\nexport const loginUser = createAsyncThunk(\n    'auth/loginUser',\n    async ({ identifier, password }) => {\n        try {\n            const { data } = await axios.post('/auth/login', {\n                identifier, \n                password,\n            });\n            if (data.token) {\n                window.localStorage.setItem('token', data.token);\n            }\n            return data;\n        } catch (error) {\n            console.log(error);\n        }\n    },\n);\n \nexport const removeUser = createAsyncThunk(\n    'auth/removeUser',\n    async (userId, { rejectWithValue }) => {\n      try {\n        const { data } = await axios.delete(`/auth/users/${userId}`);\n        return data;\n      } catch (error) {\n        console.error('Error while deleting user:', error.response?.data || error.message);\n        return rejectWithValue(error.response?.data || 'Ошибка сервера');\n      }\n    }\n  );\n\nexport const getMe = createAsyncThunk('auth/getMe', async () => {\n    try {\n        const { data } = await axios.get('/auth/me');\n        return data;\n    } catch (error) { \n        console.log(error);\n    }\n});\n\n\nexport const toggleFavorite = createAsyncThunk(\n    'auth/toggleFavorite',\n    async ({ postId, userId }, { rejectWithValue }) => {\n        try {\n            const response = await axios.put(`/api/auth/favorite/${postId}`, { userId });\n            return response.data; // Возвращаем обновленные избранные\n        } catch (error) {\n            return rejectWithValue(error.response.data);\n        }\n    }\n);\n\n\nexport const getFavorites = createAsyncThunk(\n    'auth/getFavorites',\n    async () => {\n        try {\n            const { data } = await axios.get('/auth/favorites');\n            return data.favorites;\n        } catch (error) {\n            console.log(error);\n            return [];\n        }\n    }\n);\n\n\nexport const authSlice = createSlice({\n    name: 'auth',\n    initialState,\n    reducers: {\n        logout: (state) => {\n            state.user = null;\n            state.token = null;\n            state.isLoading = false;\n            state.status = null;\n        },\n        updateUser: (state, action) => {\n            state.user = action.payload;\n        },\n    },\n    extraReducers: {\n        // Get all users\n        [getAllUsers.pending]: (state) => {\n            state.loading = true\n        },\n        [getAllUsers.fulfilled]: (state, action) => {\n            state.loading = false\n            state.users = action.payload.users\n        },\n        [getAllUsers.rejected]: (state) => {\n            state.loading = false\n        },\n        // Register user\n        [registerUser.pending]: (state) => {\n            state.isLoading = true;\n            state.status = null;\n        },\n        [registerUser.fulfilled]: (state, action) => {\n            state.isLoading = false;\n            state.status = action.payload.message;\n            state.user = action.payload.user;\n            state.token = action.payload.token;\n            state.users.push(action.payload)\n        },\n        [registerUser.rejected]: (state, action) => {\n            state.status = action.payload?.message || 'Registration failed';\n            state.isLoading = false;\n        },\n        // Login user\n        [loginUser.fulfilled]: (state, action) => {\n            state.isLoading = false;\n            state.token = action.payload.token;\n            state.user = action.payload.user;\n            state.status = action.payload.message;\n        },\n        [loginUser.pending]: (state) => {\n            state.isLoading = true;\n            state.status = null;\n        },\n        [loginUser.rejected]: (state, action) => {\n            state.status = action.payload?.message || 'Login failed';\n            state.isLoading = false;\n        },\n        // Check authorization\n        [getMe.pending]: (state) => {\n            state.isLoading = true;\n            state.status = null;\n        },\n        [getMe.fulfilled]: (state, action) => {\n            state.isLoading = false;\n            state.status = null;\n            state.user = action.payload?.user;\n            state.token = action.payload?.token;\n        },\n        [getMe.rejected]: (state, action) => {\n            state.status = action.payload?.message || 'Authorization check failed';\n            state.isLoading = false;\n        },\n        // удаление пользователя\n        [removeUser.pending]: (state) => {\n            state.loading = true\n        },\n        [removeUser.fulfilled]: (state, action) => {\n            state.loading = false\n            state.users = state.users.filter(\n                (user) => user._id !== action.payload._id,\n            )\n        },\n        [removeUser.rejected]: (state) => {\n            state.loading = false\n        },\n        [toggleFavorite.fulfilled]: (state, action) => {\n            const { favorites } = action.payload;\n            state.user.favorites = favorites;\n            state.favorites = favorites; \n        },\n        [getFavorites.fulfilled]: (state, action) => {\n            state.isLoading = false;\n            state.favorites = action.payload;\n        }\n    }, \n});\n\nexport const checkIsAuth = (state) => Boolean(state.auth.token);\n\nexport const { updateUser } = authSlice.actions;\nexport const { logout } = authSlice.actions;\nexport default authSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}